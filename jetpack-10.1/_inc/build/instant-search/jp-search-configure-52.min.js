(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([[52],{818:function(t){var e,n=window.ProgressEvent,o=!!n;try{e=new n("loaded"),o="loaded"===e.type,e=null}catch(r){o=!1}t.exports=o?n:"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("Event");return n.initEvent(t,!1,!1),e?(n.lengthComputable=Boolean(e.lengthComputable),n.loaded=Number(e.loaded)||0,n.total=Number(e.total)||0):(n.lengthComputable=!1,n.loaded=n.total=0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.lengthComputable=Boolean(e.lengthComputable),n.loaded=Number(e.loaded)||0,n.total=Number(e.total)||0):(n.lengthComputable=!1,n.loaded=n.total=0),n}},52:function(t,e,n){"use strict";var o;n.r(e),n.d(e,{default:function(){return O},reloadProxy:function(){return R},requestAllBlogsAccess:function(){return S}});var r=new Uint8Array(16);function a(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(r)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var i=function(t){return"string"==typeof t&&s.test(t)},u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));var d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!i(n))throw TypeError("Stringified UUID is invalid");return n};var c=function(t,e,n){var o=(t=t||{}).random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=o[r];return e}return d(o)},p=n(818),f=n.n(p);const m="https://public-api.wordpress.com",w=window.location.protocol+"//"+window.location.host,g=(()=>{let t=!1;try{window.postMessage({toString:function(){t=!0}},"*")}catch(e){}return t})(),y=(()=>{try{return new window.File(["a"],"test.jpg",{type:"image/jpeg"}),!0}catch(t){return!1}})();let h,v=null,b=!1;const E={},C=!!window.ProgressEvent&&!!window.FormData,j=(t,e)=>{const n=Object.assign({},t);v||N();const o=c();n.callback=o,n.supports_args=!0,n.supports_error_obj=!0,n.supports_progress=C,n.method=String(n.method||"GET").toUpperCase();const r=new window.XMLHttpRequest;if(r.params=n,E[o]=r,"function"==typeof e){let t=!1;const n=n=>{if(t)return;t=!0;const o=n.response||r.response;e(null,o,n.headers)},o=n=>{if(t)return;t=!0;const o=n.error||n.err||n;e(o,null,n.headers)};r.addEventListener("load",n),r.addEventListener("abort",o),r.addEventListener("error",o)}return b?A(n):h.push(n),r},k=(t,e)=>"function"==typeof e?j(t,e):new Promise(((e,n)=>{j(t,((t,o)=>{t?n(t):e(o)}))}));function S(){return k({metaAPI:{accessAllUsersBlogs:!0}})}function A(t){t.formData&&function(t){if(!window.chrome||!y)return;for(let e=0;e<t.length;e++){const n=P(t[e][1]);n&&(t[e][1]=new window.File([n],n.name,{type:n.type}))}}(t.formData),v.contentWindow.postMessage(g?JSON.stringify(t):t,m)}function L(t){return t&&"[object File]"===Object.prototype.toString.call(t)}function P(t){return L(t)?t:"object"==typeof t&&L(t.fileContents)?t.fileContents:null}function N(){v&&(window.removeEventListener("message",I),document.body.removeChild(v),b=!1,v=null),h=[],window.addEventListener("message",I),v=document.createElement("iframe"),v.src=m+"/wp-admin/rest-proxy/?v=2.0#"+w,v.style.display="none",v.sandbox="allow-same-origin allow-scripts",document.body.appendChild(v)}const R=()=>{N()};function I(t){if(t.origin!==m||t.source!==v.contentWindow)return;let{data:e}=t;if(!e)return;if("ready"===e)return void function(){if(b=!0,h){for(let t=0;t<h.length;t++)A(h[t]);h=null}}();if(g&&"string"==typeof e&&(e=JSON.parse(e)),e.upload||e.download)return function(t){const e=E[t.callbackId];if(e){const n=new(f())("progress",t);(t.upload?e.upload:e).dispatchEvent(n)}}(e);if(!e.length)return;const n=e[e.length-1];if(!(n in E))return;const o=E[n],{params:r}=o,a=e[0];let s=e[1];const i=e[2];207===s||delete E[n],r.metaAPI&&(s="metaAPIupdated"===a?200:500),"object"==typeof i&&(i.status=s),s&&2===Math.floor(s/100)?function(t,e,n){const o=new(f())("load");o.data=o.body=o.response=e,o.headers=n,t.dispatchEvent(o)}(o,a,i):function(t,e,n){const o=new(f())("error");o.error=o.err=e,o.headers=n,t.dispatchEvent(o)}(o,null,i)}var O=k}}]);