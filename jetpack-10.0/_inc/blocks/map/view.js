!function(e,t){for(var n in t)e[n]=t[n]}(window,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=498)}({0:function(e,t){e.exports=window.wp.element},1:function(e,t){e.exports=window.wp.i18n},115:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},116:function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(_n=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);_n=!0);}catch(c){r=!0,o=c}finally{try{_n||null==i.return||i.return()}finally{if(r)throw o}}return n}}},117:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},12:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},123:function(e,t,n){var r=n(84);e.exports=function(e){if(Array.isArray(e))return r(e)}},124:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},125:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},13:function(e,t,n){var r=n(159);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},14:function(e,t,n){var r=n(160),o=n(161),a=n(162);e.exports=function(e){var t=o();return function(){var n,o=r(e);if(t){var i=r(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return a(this,n)}}},149:function(e,t,n){e.exports=n.p+"images/map-theme_default-2ceb449b599dbcbe2a90fead5a5f3824.jpg"},15:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},150:function(e,t,n){e.exports=n.p+"images/map-theme_black_and_white-1ead5946ca104d83676d6e3410e1d733.jpg"},151:function(e,t,n){e.exports=n.p+"images/map-theme_satellite-c74dc129bda9502fb0fb362bb627577e.jpg"},152:function(e,t,n){e.exports=n.p+"images/map-theme_terrain-2b6e6c1c8d09cbdc58a4c0653be1a6e3.jpg"},153:function(e){e.exports=JSON.parse('[{"id":"mapbox-gl-js","file":"node_modules/mapbox-gl/dist/mapbox-gl.js","version":"1.13.0"},{"id":"mapbox-gl-css","file":"node_modules/mapbox-gl/dist/mapbox-gl.css","version":"1.13.0"}]')},155:function(e,t,n){"use strict";var r=n(12),o=n.n(r),a=n(15),i=n.n(a),c=n(7),l=n.n(c),s=n(13),u=n.n(s),p=n(14),f=n.n(p),d=n(5),m=n.n(d),b=n(0),v=n(1),h=n(3),y=n(2),g=(n(234),n(64)),k=function(e){u()(n,e);var t=f()(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),m()(l()(e),"handleClick",(function(){(0,e.props.onClick)(l()(e))})),m()(l()(e),"getPoint",(function(){var t=e.props.point;return[t.coordinates.longitude,t.coordinates.latitude]})),e}return i()(n,[{key:"componentDidMount",value:function(){this.renderMarker()}},{key:"componentWillUnmount",value:function(){this.marker&&this.marker.remove()}},{key:"componentDidUpdate",value:function(){this.renderMarker()}},{key:"renderMarker",value:function(){var e=this.props,t=e.map,n=e.point,r=e.mapboxgl,o=e.markerColor,a=e.mapRef,i=this.handleClick,c=[n.coordinates.longitude,n.coordinates.latitude],l=Object(g.a)(a.current).currentDoc,s=this.marker?this.marker.getElement():l.createElement("div");this.marker?this.marker.setLngLat(c):(s.className="wp-block-jetpack-map-marker",this.marker=new r.Marker(s).setLngLat(c).setOffset([0,-19]).addTo(t),this.marker.getElement().addEventListener("click",i)),s.innerHTML='<?xml version="1.0" encoding="UTF-8"?><svg version="1.1" viewBox="0 0 32 38" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g fill-rule="evenodd"><path id="d" d="m16 38s16-11.308 16-22-7.1634-16-16-16-16 5.3076-16 16 16 22 16 22z" fill="'+o+'" mask="url(#c)"/></g></svg>'}},{key:"render",value:function(){return null}}]),n}(b.Component);k.defaultProps={point:{},map:null,markerColor:"#000000",mapboxgl:null,onClick:function(){}};var w=k,j=function(e){u()(n,e);var t=f()(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),m()(l()(e),"closeClick",(function(){e.props.unsetActiveMarker()})),e}return i()(n,[{key:"componentDidMount",value:function(){var e=this.props.mapboxgl;this.el=document.createElement("DIV"),this.infowindow=new e.Popup({closeButton:!0,closeOnClick:!1,offset:{left:[0,0],top:[0,5],right:[0,0],bottom:[0,-40]}}),this.infowindow.setDOMContent(this.el),this.infowindow.on("close",this.closeClick)}},{key:"componentDidUpdate",value:function(e){this.props.activeMarker!==e.activeMarker&&(this.props.activeMarker?this.openWindow():this.closeWindow())}},{key:"render",value:function(){return this.el?Object(b.createPortal)(this.props.children,this.el):null}},{key:"openWindow",value:function(){var e=this.props,t=e.map,n=e.activeMarker;this.infowindow.setLngLat(n.getPoint()).addTo(t)}},{key:"closeWindow",value:function(){this.infowindow.remove()}}]),n}(b.Component);j.defaultProps={unsetActiveMarker:function(){},activeMarker:null,map:null,mapboxgl:null};var x=j;var O=n(153),M=function(e){u()(n,e);var t=f()(n);function n(){var e;return o()(this,n),e=t.apply(this,arguments),m()(l()(e),"onMarkerClick",(function(t){var n=e.props.onMarkerClick;e.setState({activeMarker:t}),n()})),m()(l()(e),"onMapClick",(function(){e.setState({activeMarker:null})})),m()(l()(e),"clearCurrentMarker",(function(){e.setState({activeMarker:null})})),m()(l()(e),"updateActiveMarker",(function(t){var n=e.props.points,r=e.state.activeMarker.props.index,o=n.slice(0);Object(h.assign)(o[r],t),e.props.onSetPoints(o)})),m()(l()(e),"deleteActiveMarker",(function(){var t=e.props.points,n=e.state.activeMarker.props.index,r=t.slice(0);r.splice(n,1),e.props.onSetPoints(r),e.setState({activeMarker:null})})),m()(l()(e),"sizeMap",(function(){var t=e.props.mapHeight,n=e.state.map,r=e.mapRef.current;if(t)r.style.height=t+"px";else{var o=r.offsetWidth,a=window.location.search.indexOf("map-block-counter")>-1?window.innerHeight:.8*window.innerHeight,i=Math.min(o*(3/4),a);r.style.height=i+"px"}n.resize(),e.setBoundsByMarkers()})),m()(l()(e),"updateZoom",(function(){var t=e.props.zoom,n=e.state.map;n.setZoom(t),n.updateZoom(t)})),m()(l()(e),"setBoundsByMarkers",(function(){var t=e.props,n=t.admin,r=t.onSetMapCenter,o=t.onSetZoom,a=t.points,i=t.zoom,c=e.state,l=c.map,s=c.activeMarker,u=c.mapboxgl,p=c.zoomControl,f=c.boundsSetProgrammatically;if(l&&(a.length&&n?l.dragPan.disable():l.dragPan.enable(),a.length&&!s)){var d=new u.LngLatBounds;if(a.forEach((function(e){d.extend([e.coordinates.longitude,e.coordinates.latitude])})),r(d.getCenter()),a.length>1){l.fitBounds(d,{padding:{top:80,bottom:80,left:40,right:40}}),e.setState({boundsSetProgrammatically:!0});try{l.removeControl(p)}catch(m){}}else{if(l.setCenter(d.getCenter()),f){l.setZoom(12),o(12)}else l.setZoom(parseInt(i,10));l.addControl(p),e.setState({boundsSetProgrammatically:!1})}}})),m()(l()(e),"scriptsLoaded",(function(){var t=e.props,n=t.mapCenter,r=t.points;e.setState({loaded:!0}),r.length,e.initMap(n)})),m()(l()(e),"googlePoint2Mapbox",(function(e){return e.hasOwnProperty("lat")&&e.hasOwnProperty("lng")?e:{lat:e.latitude||0,lng:e.longitude||0}})),e.state={map:null,fit_to_bounds:!1,loaded:!1,mapboxgl:null},e.mapRef=Object(b.createRef)(),e.debouncedSizeMap=Object(h.debounce)(e.sizeMap,250),e}return i()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.points,r=t.admin,o=t.children,a=t.markerColor,i=this.state,c=i.map,l=i.activeMarker,s=i.mapboxgl,u=this.onMarkerClick,p=this.deleteActiveMarker,f=this.updateActiveMarker,d=Object(h.get)(l,"props.point")||{},m=d.title,g=d.caption,k=b.Children.map(o,(function(e){if("AddPoint"===Object(h.get)(e,"props.tagName"))return e})),j=c&&s&&n.map((function(t,n){return Object(b.createElement)(w,{mapRef:e.mapRef,key:n,point:t,index:n,map:c,mapboxgl:s,markerColor:a,onClick:u})})),O=s&&Object(b.createElement)(x,{activeMarker:l,map:c,mapboxgl:s,unsetActiveMarker:function(){return e.setState({activeMarker:null})}},l&&r&&Object(b.createElement)(b.Fragment,null,Object(b.createElement)(y.TextControl,{label:Object(v.__)("Marker Title","jetpack"),value:m,onChange:function(e){return f({title:e})}}),Object(b.createElement)(y.TextareaControl,{className:"wp-block-jetpack-map__marker-caption",label:Object(v.__)("Marker Caption","jetpack"),value:g,rows:"2",tag:"textarea",onChange:function(e){return f({caption:e})}}),Object(b.createElement)(y.Button,{onClick:p,className:"wp-block-jetpack-map__delete-btn"},Object(b.createElement)(y.Dashicon,{icon:"trash",size:"15"})," ",Object(v.__)("Delete Marker","jetpack"))),l&&!r&&Object(b.createElement)(b.Fragment,null,Object(b.createElement)("h3",null,m),Object(b.createElement)("p",null,g)));return Object(b.createElement)(b.Fragment,null,Object(b.createElement)("div",{className:"wp-block-jetpack-map__gm-container",ref:this.mapRef},j),O,k)}},{key:"componentDidMount",value:function(){this.props.apiKey&&this.loadMapLibraries()}},{key:"componentWillUnmount",value:function(){this.debouncedSizeMap.cancel(),window.removeEventListener("resize",this.debouncedSizeMap)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.admin,r=t.apiKey,o=t.children,a=t.points,i=t.mapStyle,c=t.mapDetails,l=t.scrollToZoom,s=t.showFullscreenButton,u=this.state,p=u.map,f=u.fullscreenControl;r&&r.length>0&&r!==e.apiKey&&this.loadMapLibraries(),o!==e.children&&!1!==o&&this.clearCurrentMarker(),a!==e.points&&this.setBoundsByMarkers(),a.length!==e.points.length&&this.clearCurrentMarker(),i===e.mapStyle&&c===e.mapDetails||p.setStyle(this.getMapStyle()),l!==e.scrollToZoom&&(l?p.scrollZoom.enable():p.scrollZoom.disable()),s!==e.showFullscreenButton&&(s?(p.addControl(f),n&&f._fullscreenButton&&(f._fullscreenButton.disabled=!0)):p.removeControl(f))}},{key:"getMapStyle",value:function(){var e=this.props;return function(e,t){return{default:{details:"mapbox://styles/automattic/cjolkhmez0qdd2ro82dwog1in",no_details:"mapbox://styles/automattic/cjolkci3905d82soef4zlmkdo"},black_and_white:{details:"mapbox://styles/automattic/cjolkixvv0ty42spgt2k4j434",no_details:"mapbox://styles/automattic/cjolkgc540tvj2spgzzoq37k4"},satellite:{details:"mapbox://styles/mapbox/satellite-streets-v10",no_details:"mapbox://styles/mapbox/satellite-v9"},terrain:{details:"mapbox://styles/automattic/cjolkf8p405fh2soet2rdt96b",no_details:"mapbox://styles/automattic/cjolke6fz12ys2rpbpvgl12ha"}}[e][t?"details":"no_details"]}(e.mapStyle,e.mapDetails)}},{key:"getMapType",value:function(){switch(this.props.mapStyle){case"satellite":return"HYBRID";case"terrain":return"TERRAIN";case"black_and_white":default:return"ROADMAP"}}},{key:"loadMapLibraries",value:function(){var e=this,t=this.props.apiKey,n=Object(g.a)(this.mapRef.current).currentWindow,r={"mapbox-gl-js":function(){Object(g.d)(n,"mapboxgl").then((function(n){n.accessToken=t,e.setState({mapboxgl:n},e.scriptsLoaded)}))}};Object(g.b)(O,r,this.mapRef.current)}},{key:"initMap",value:function(e){var t=this,n=this.state.mapboxgl,r=this.props,o=r.zoom,a=r.onMapLoaded,i=r.onError,c=r.scrollToZoom,l=r.showFullscreenButton,s=r.admin,u=null;try{u=new n.Map({container:this.mapRef.current,style:this.getMapStyle(),center:this.googlePoint2Mapbox(e),zoom:parseInt(o,10),pitchWithRotate:!1,attributionControl:!1,dragRotate:!1})}catch(d){return void i("mapbox_error",d.message)}c||u.scrollZoom.disable();var p=new n.FullscreenControl;u.on("error",(function(e){i("mapbox_error",e.error.message)}));var f=new n.NavigationControl({showCompass:!1,showZoom:!0});u.on("zoomend",(function(){t.props.onSetZoom(u.getZoom())})),u.on("moveend",(function(){var e=t.props,n=e.onSetMapCenter;e.points.length<1&&n(u.getCenter())})),u.getCanvas().addEventListener("click",this.onMapClick),this.setState({map:u,zoomControl:f,fullscreenControl:p},(function(){t.debouncedSizeMap(),u.addControl(f),l&&(u.addControl(p),s&&p._fullscreenButton&&(p._fullscreenButton.disabled=!0)),t.mapRef.current.addEventListener("alignmentChanged",t.debouncedSizeMap),u.resize(),a(),t.setState({loaded:!0}),window.addEventListener("resize",t.debouncedSizeMap)}))}}]),n}(b.Component);M.defaultProps={points:[],mapStyle:"default",zoom:13,onSetZoom:function(){},onSetMapCenter:function(){},onMapLoaded:function(){},onMarkerClick:function(){},onError:function(){},markerColor:"red",apiKey:null,mapCenter:{}};t.a=M},159:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},160:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},161:function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},162:function(e,t,n){var r=n(163),o=n(7);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},163:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},19:function(e,t,n){var r=n(123),o=n(124),a=n(75),i=n(125);e.exports=function(e){return r(e)||o(e)||a(e)||i()}},2:function(e,t){e.exports=window.wp.components},234:function(e,t,n){},235:function(e,t,n){},3:function(e,t){e.exports=window.lodash},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),o=n(1),a=n(149),i=n.n(a),c=n(150),l=n.n(c),s=n(151),u=n.n(s),p=n(152),f=n.n(p),d={name:"map",prefix:"jetpack",title:Object(o.__)("Map","jetpack"),icon:Object(r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},Object(r.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Object(r.createElement)("path",{d:"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM10 5.47l4 1.4v11.66l-4-1.4V5.47zm-5 .99l3-1.01v11.7l-3 1.16V6.46zm14 11.08l-3 1.01V6.86l3-1.16v11.84z"})),category:"embed",keywords:[Object(o._x)("maps","block search term","jetpack"),Object(o._x)("location","block search term","jetpack"),Object(o._x)("navigation","block search term","jetpack")],description:Object(o.__)("Add an interactive map showing one or more locations.","jetpack"),attributes:{align:{type:"string"},points:{type:"array",default:[]},mapDetails:{type:"boolean",default:!0},zoom:{type:"integer",default:13},mapCenter:{type:"object",default:{longitude:-122.41941550000001,latitude:37.7749295}},markerColor:{type:"string",default:"red"},preview:{type:"boolean",default:!1},scrollToZoom:{type:"boolean",default:!1},mapHeight:{type:"integer"},showFullscreenButton:{type:"boolean",default:!0}},supports:{defaultStylePicker:!1,html:!1},styles:[{name:"default",label:Object(o.__)("Basic","jetpack"),preview:i.a,isDefault:!0},{name:"black_and_white",label:Object(o.__)("Black and white","jetpack"),preview:l.a},{name:"satellite",label:Object(o.__)("Satellite","jetpack"),preview:u.a},{name:"terrain",label:Object(o.__)("Terrain","jetpack"),preview:f.a}],validAlignments:["center","wide","full"],markerIcon:Object(r.createElement)("svg",{width:"14",height:"20",viewBox:"0 0 14 20",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)("g",{id:"Page-1",fill:"none",fillRule:"evenodd"},Object(r.createElement)("g",{id:"outline-add_location-24px",transform:"translate(-5 -2)"},Object(r.createElement)("polygon",{id:"Shape",points:"0 0 24 0 24 24 0 24"}),Object(r.createElement)("path",{d:"M12,2 C8.14,2 5,5.14 5,9 C5,14.25 12,22 12,22 C12,22 19,14.25 19,9 C19,5.14 15.86,2 12,2 Z M7,9 C7,6.24 9.24,4 12,4 C14.76,4 17,6.24 17,9 C17,11.88 14.12,16.19 12,18.88 C9.92,16.21 7,11.85 7,9 Z M13,6 L11,6 L11,8 L9,8 L9,10 L11,10 L11,12 L13,12 L13,10 L15,10 L15,8 L13,8 L13,6 Z",id:"Shape",fill:"#000",fillRule:"nonzero"})))),example:{attributes:{preview:!0}}}},4:function(e,t,n){var r=n(5);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(65),o=n.n(r),a=n(95),i=n.n(a),c=n(3);function l(e,t){var n=function(e,t){var n,r=o()(new i.a(t).values());try{for(r.s();!(n=r.n()).done;){var a=n.value;if(-1!==a.indexOf("is-style-")){var l=a.substring(9),s=Object(c.find)(e,{name:l});if(s)return s}}}catch(u){r.e(u)}finally{r.f()}return Object(c.find)(e,"isDefault")}(e,t);return n?n.name:null}},48:function(e,t,n){"object"==typeof window&&window.Jetpack_Block_Assets_Base_Url&&window.Jetpack_Block_Assets_Base_Url.url&&(n.p=window.Jetpack_Block_Assets_Base_Url.url)},498:function(e,t,n){n(52),e.exports=n(530)},5:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},52:function(e,t,n){"use strict";n.r(t);n(48)},530:function(e,t,n){"use strict";n.r(t);var r=n(4),o=n.n(r),a=n(57),i=n.n(a),c=(n(235),n(155)),l=n(38),s=n(19),u=n.n(s),p=n(65),f=n.n(p),d=n(12),m=n.n(d),b=n(15),v=n.n(b),h=n(3),y=n(0),g=function(){function e(){m()(this,e)}return v()(e,[{key:"blockIterator",value:function(e,t){var n=this;t.forEach((function(t){n.initializeFrontendReactBlocks(t.component,t.options,e)}))}},{key:"initializeFrontendReactBlocks",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o=n.settings,a=o.attributes,i=o.name,c=o.prefix,l=n.selector,s=c&&c.length?"".concat(c,"/").concat(i):i,u=".wp-block-".concat(s.replace("/","-")),p=r.querySelectorAll(u),d=f()(p);try{for(d.s();!(t=d.n()).done;){var m=t.value;if("true"!==m.getAttribute("data-jetpack-block-initialized")){var b=this.extractAttributesFromContainer(m,a);Object(h.assign)(b,n.props);var v=this.extractChildrenFromContainer(m),g=Object(y.createElement)(e,b,v);Object(y.render)(g,l?m.querySelector(l):m),m.setAttribute("data-jetpack-block-initialized",!0)}}}catch(k){d.e(k)}finally{d.f()}}},{key:"extractAttributesFromContainer",value:function(e,t){var n={};for(var r in t){var o=t[r],a="data-"+Object(h.kebabCase)(r);if(n[r]=e.getAttribute(a),"boolean"===o.type&&(n[r]="false"!==n[r]&&!!n[r]),"array"===o.type||"object"===o.type)try{n[r]=JSON.parse(n[r])}catch(i){n[r]=null}}return n}},{key:"extractChildrenFromContainer",value:function(e){return u()(e.childNodes).map((function(e){for(var t={},n=0;n<e.attributes.length;n++){var r=e.attributes[n];t[r.nodeName]=r.nodeValue}return t.dangerouslySetInnerHTML={__html:e.innerHTML},Object(y.createElement)(e.tagName.toLowerCase(),t)}))}}]),e}(),k=n(42);i()((function(){(new g).blockIterator(document,[{component:c.a,options:{settings:o()(o()({},l.a),{},{attributes:o()(o()({},l.a.attributes),{},{mapStyle:Object(k.a)(l.a.styles,l.a.className),apiKey:{type:"string",default:""}})})}}])}))},57:function(e,t){e.exports=window.wp.domReady},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(9),o=n.n(r);function a(e){var t=e.ownerDocument;return{currentDoc:t,currentWindow:t.defaultView||t.parentWindow}}function i(e){var t=a(e).currentWindow;return"editor-canvas"===t.name&&t.self!==t.top}function c(e){try{var t;return!(null==e||null===(t=e.parent)||void 0===t||!t.location.href)}catch(n){return!1}}function l(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[];if(!t||!e&&!e.length||!i(t))return o;var l=a(t),s=l.currentDoc,u=l.currentWindow;if(!c(u))return o;var p=null==u||null===(n=u.parent)||void 0===n?void 0:n.document;return s&&p?o=e.filter((function(e){var t=p.querySelector(e),n=!!s.querySelector(e);return!(!t||n)&&(s.head.appendChild(t.cloneNode()),r&&t.remove(),!0)})):void 0}function s(e,t,n){var r="".concat(window.Jetpack_Block_Assets_Base_Url.url,"editor-assets"),i=a(n).currentDoc,c=i.getElementsByTagName("head")[0];e.forEach((function(e){var n=e.file.split("/").pop().split("."),a=o()(n,2),l=a[0],s=a[1];if("css"===s){if(i.getElementById(e.id))return;var u=i.createElement("link");u.id=e.id,u.rel="stylesheet",u.href="".concat(r,"/").concat(l,"-").concat(e.version,".").concat(s),c.appendChild(u)}if("js"===s){var p=t[e.id]?t[e.id]:null;if(i.getElementById(e.id))return p();var f=i.createElement("script");f.id=e.id,f.type="text/javascript",f.src="".concat(r,"/").concat(l,"-").concat(e.version,".").concat(s),f.onload=p,c.appendChild(f)}}))}function u(e,t){return new Promise((function(n){!function r(){e[t]?n(e[t]):e.requestAnimationFrame(r)}()}))}},65:function(e,t,n){var r=n(75);e.exports=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}},7:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},75:function(e,t,n){var r=n(84);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},84:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},9:function(e,t,n){var r=n(115),o=n(116),a=n(75),i=n(117);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||i()}},95:function(e,t){e.exports=window.wp.tokenList}}));